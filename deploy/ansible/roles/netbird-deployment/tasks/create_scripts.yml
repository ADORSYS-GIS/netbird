---
- name: Create status check script
  template:
    src: check-status.sh.j2
    dest: "{{ netbird_scripts_dir }}/check-status.sh"
    owner: "{{ ansible_user }}"
    group: "{{ ansible_user }}"
    mode: '0755'
  become: yes

- name: Create backup script
  template:
    src: backup.sh.j2
    dest: "{{ netbird_scripts_dir }}/backup.sh"
    owner: "{{ ansible_user }}"
    group: "{{ ansible_user }}"
    mode: '0755'
  become: yes

- name: Create update script
  template:
    src: update.sh.j2
    dest: "{{ netbird_scripts_dir }}/update.sh"
    owner: "{{ ansible_user }}"
    group: "{{ ansible_user }}"
    mode: '0755'
  become: yes

- name: Display management scripts status
  debug:
    msg:
      - "✅ Management scripts created"
      - "📁 Status check: {{ netbird_scripts_dir }}/check-status.sh"
      - "📁 Backup: {{ netbird_scripts_dir }}/backup.sh"
      - "📁 Update: {{ netbird_scripts_dir }}/update.sh"
